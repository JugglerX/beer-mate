<div class="container">
  <h1> All Categories</h1>

  <a href="/articles/new">Create New Listing</a>

    <% @categories.each do |category| %>
      <h2><%= p category.name %></h2>
      <ul>
      <% @articles.each do |article| %>
        <% if article.category_id == category.id %>
          <li><a href="/articles/<%= article.id %>"><%= p article.title %></a></li>
        <% end %>
      <% end %>
      </ul>
    <% end %>

</div>

<table>
    <tr>
      <th>File Description</th>
      <th>File Location</th>
    </tr>
    <tr>
      <td>This view file</td>
      <td><code><%= __FILE__.gsub(Sinatra::Application.root, '') %></code></td>
    </tr>
    <tr>
      <td>The layout file</td>
      <td><code><%= File.expand_path('../layout.erb', __FILE__).gsub(Sinatra::Application.root, '') %></code></td>
    </tr>
    <tr>
      <td>The current controller</td>
      <td><code><%= File.expand_path('../../controllers/index.rb', __FILE__).gsub(Sinatra::Application.root, '') %></code></td>
    </tr>
  </table>
